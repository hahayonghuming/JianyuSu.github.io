---
title: 'Inverted Index for embeddings基于向量的倒排'
date: 2022-02-25
permalink: /posts/2022/02/IV/
tags:
  - tech
  - retrieval
  - embedding
  - approximate nearest neighbor search
---

A brief introduction on inverted index used in industry


学过information retrieval的同学们或多或少都接触过一些像倒排索引(inverted index)，正排索引的概念。对于一个文件管理系统而言，倒排索引关系着检索的效率。比如一个管理文章的图书系统，其中一个倒排链可能存储了所有包含“black”字眼的文章的id，于是如果我们在搜索栏里输入"black"，系统能够锁定这些文章，然后再通过更精细的条件匹配找到我们需要的文章。

倒排链在广告系统中也非常常用，且应用在召回环节。广告系统的任务是，给定一个用户流量，从系统中的千万个广告中匹配个位数的相关广告给该用户。匹配的广告要：第一，和用户相关，如果不相关会降低用户的用户体验；第二，该用户要与匹配的广告相关，不然就损害了广告主的利益；第三，因为大部分互联网广告都是广告主竞价的模式，所以平台希望最终展示给用户的广告都是竞价符合一定标准的。只有用户，广告主，平台的三方利益兼顾了，广告系统的生态才能欣欣向荣。

广告系统的链路一般都是由几个模块构成：召回(从千万广告中找到万个相关的广告)，粗排，精排，
